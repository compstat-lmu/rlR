language: r
dist: bionic
sudo: required
cache: packages
addons:
  apt:
    update: true
    packages:
      - python3
      - python3-pip 
      - python3-all-dev
      - python3-setuptools
      - python3-wheel
      - python3-venv
      - build-essential
      - zlib1g-dev
      - cmake
      - r-base-core
      - r-base-dev
      - liblapack-dev
install:
  - sudo R --no-save <<< 'install.packages("keras", repos = "http://cran.rstudio.com/")'
  - sudo R --no-save <<< 'keras::install_keras()'

env:
  matrix:
  - _R_CHECK_LENGTH_1_CONDITION_=true
